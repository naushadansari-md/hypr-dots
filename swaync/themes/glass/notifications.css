@import '../../colors.css';

/* =========================
   Derived dynamic colors
   ========================= */
@define-color panel_bg      alpha(@surface, 0.86);
@define-color panel_inner   alpha(@surface_dim, 0.70);

@define-color card_bg       alpha(@surface_container_high, 0.97);
@define-color card_bg_hover alpha(@surface_container_high, 0.98);

@define-color border_soft   alpha(@on_surface, 0.16);
@define-color border_med    alpha(@on_surface, 0.26);

@define-color accent        alpha(@primary, 0.88);
@define-color accent_soft   alpha(@primary, 0.35);

@define-color text          @on_surface;

/* =========================
   Global
   ========================= */
* {
  font-size: 1rem;
  font-weight: 900;
  all: unset;
  color: @text;
  font-family: "Fira Sans Semibold", "JetBrainsMono Nerd Font", "Font Awesome 7 Free";
  transition: 220ms;
}

.widget-mpris { all: unset; }

/* =========================
   Remove wrapper shadow
   ========================= */
.floating-notifications.background,
.floating-notifications.background .notification-row,
.floating-notifications.background .notification-background {
  box-shadow: none;
  filter: none;
}

/* =========================
   Animation (smooth slide-up)
   ========================= */
@keyframes osdSlideUp {
  from { transform: translateY(18px); opacity: 0; }
  to   { transform: translateY(0px);  opacity: 1; }
}

/* =========================
   Floating Notifications / OSD Cards
   ========================= */
.floating-notifications.background
.notification-row
.notification-background
.notification {

  border-radius: 12px;

  background: radial-gradient(circle at 50% 250%,
            alpha(shade(@surface, 0.85), 0.90),
            alpha(@surface_dim, 0.90)) padding-box,
        linear-gradient(@primary, @on_primary) border-box;
  border: 1px solid transparent;

  /* spacing between stacked notifications */
  margin: 8px 0 0 0;

  /* IMPORTANT: keep bottom-center perfectly centered */
  margin-right: 0px;
  outline: 1px solid alpha(@primary, 0.18);
  opacity: 0.85;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
  animation: osdSlideUp 160ms ease-out;
}

/* Hover */
.floating-notifications.background
.notification-row
.notification-background
.notification:hover {

  background:
    radial-gradient(circle at 50% 250%, @card_bg_hover, @panel_inner) padding-box,
    linear-gradient(@accent_soft, alpha(@on_primary, 0.20)) border-box;

  outline: 1px solid alpha(@primary, 0.25);
  box-shadow: inset 0 0 18px alpha(@primary, 0.08);
}

/* =========================
   Critical
   ========================= */
.floating-notifications.background
.notification-row
.notification-background
.notification.critical {

  border-radius: 12px;

  background:
    radial-gradient(circle at 50% 250%, @panel_bg, @panel_inner) padding-box,
    linear-gradient(alpha(red, 0.45), alpha(@on_primary, 0.20)) border-box;

  border: 1px solid transparent;

  outline: 1px solid alpha(red, 0.35);
  outline-offset: -1px;

  box-shadow: inset 0 0 12px alpha(@primary, 0.08);
}

/* =========================
   Text Styling (Compact)
   ========================= */
.summary {
  font-weight: 800;
  font-size: 1.05rem;
  padding: 4px 10px 2px 10px;
}

.body {
  font-size: 0.80rem;
  padding: 0px 10px 6px 10px;
}

/* =========================
   Action Buttons (Compact)
   ========================= */
.notification-action {
  border-radius: 8px;
  padding: 4px 10px;
  margin: 4px;

  background: alpha(@surface_container, 0.75);
  border: 1px solid @border_soft;
}

.notification-action:hover {
  background: alpha(@surface_container_high, 0.92);
  border: 1px solid @border_med;
}

.notification-action:active {
  background: @primary_container;
  color: @on_primary_container;
}

/* =========================
   Close Button
   ========================= */
.close-button {
  background: alpha(@surface_container, 0.65);
  border-radius: 999px;
  padding: 3px;
  border: 1px solid @border_soft;
}

.close-button:hover {
  background: @primary_container;
  border: 1px solid @accent;
}

.close-button:active {
  background: @primary;
  color: @on_primary;
}

/* =========================
   Progress Bar
   ========================= */
.notification progress,
.notification trough highlight {
  background-color: @accent;
  border-radius: 999px;
}

/* =========================
   Notification Window Position
   For bottom-center: raise it up from screen edge
   ========================= */
.floating-notifications {
  margin-bottom: 55px;  /* <-- change 35â€“80px to taste */
  margin-left: 0px;
  margin-right: 0px;
  margin-top: 0px;
}