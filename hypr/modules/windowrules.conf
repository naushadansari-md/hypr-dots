# ============================================================
# Window Rules (Hyprland 0.53 - legacy match: syntax)
# ============================================================

# ------------------------------------------------------------
# Float necessary windows
# ------------------------------------------------------------

# Float modal dialogs
windowrule = float on, match:modal 1

# PulseAudio Volume Control
windowrule = float on, match:class ^(org\.pulseaudio\.pavucontrol)$
windowrule = size 700 550, match:class ^(org\.pulseaudio\.pavucontrol)$

# Bluetooth Manager
windowrule = float on, match:class ^(blueman-manager)$

# XDG Portals
windowrule = float on, match:class ^(xdg-desktop-portal-gtk|xdg-desktop-portal-kde|xdg-desktop-portal-hyprland)(.*)$

# Polkit agents
windowrule = float on, match:class ^(polkit-gnome-authentication-agent-1|hyprpolkitagent)(.*)$

# Theme tools
windowrule = float on, match:class ^(nwg-look)$

# Enpass
windowrule = float on, match:class ^(Enpass)$
windowrule = size 1000 650, match:class ^(Enpass)$

# btop terminal (if itâ€™s launched with class btopterm)
windowrule = float on, match:class ^(btopterm)$

# Special floating kitty class
windowrule = float on, match:class ^(FloatTerm)$
windowrule = size 1000 650, match:class ^(FloatTerm)$


# ------------------------------------------------------------
# File dialogs, progress windows, rename/properties
# ------------------------------------------------------------

# Common file dialogs
windowrule = float on, match:title ^(Save File|Open File|Choose Files|Save As|Confirm to replace files)$

# File Operation Progress (works for Nemo / Thunar / others)
windowrule = float on, match:title ^(File Operation Progress)$
windowrule = size 420 140, match:title ^(File Operation Progress)$
windowrule = move 20 20, match:title ^(File Operation Progress)$

# Nemo Properties dialog (centered)
windowrule = float on, match:class ^(nemo)$, match:title ^(.* Properties)$
windowrule = center 1, match:class ^(nemo)$, match:title ^(.* Properties)$
windowrule = size 600 500, match:class ^(nemo)$, match:title ^(.* Properties)$
 
# ------------------------------------------------------------
# Archive Manager (File Roller) dialogs - Extract/Compress
# ------------------------------------------------------------
windowrule = float on, match:class ^(org\.gnome\.FileRoller)$
windowrule = center 1, match:class ^(org\.gnome\.FileRoller)$
windowrule = size 900 600, match:class ^(org\.gnome\.FileRoller)$

# Optional: Make only these titles float (if you don't want all FileRoller windows floated)
#windowrule = float on, match:class ^(org\.gnome\.FileRoller)$, match:title ^(Extract|Compress)$
#windowrule = center 1, match:class ^(org\.gnome\.FileRoller)$, match:title ^(Extract|Compress)$
#windowrule = size 900 600, match:class ^(org\.gnome\.FileRoller)$, match:title ^(Extract|Compress)$

# Rename dialogs
windowrule = float on, match:title ^Rename \"(.*)\"$


# ------------------------------------------------------------
# Picture-in-Picture
# ------------------------------------------------------------
windowrule = float on, match:title ^(Picture-in-Picture|Picture in picture|Picture in Picture)$
windowrule = size 960 540, match:title ^(Picture-in-Picture|Picture in picture|Picture in Picture)$
windowrule = move 0 100%-, match:title ^(Picture-in-Picture|Picture in picture|Picture in Picture)$


# ------------------------------------------------------------
# Opacity Rules
# ------------------------------------------------------------

# File managers
windowrule = opacity 0.90, match:class ^(thunar|nemo)$
windowrule = opacity 0.90, match:class ^(org.gnome.FileRoller)$

# Apps
windowrule = opacity 0.90, match:class ^(geany|Alacritty|nwg-look|Enpass|org\.mozilla\.Thunderbird)$
windowrule = opacity 0.90, match:class ^(jetbrains-idea-ce|qt6ct)$
windowrule = opacity 0.90, match:class ^(google-chrome|firefox)$
windowrule = opacity 0.90, match:class ^(org\.pwmt\.zathura)$
windowrule = opacity 0.90, match:class ^(code|Enpass)$
windowrule = opacity 0.90, match:class ^(kitty)$

# Titles
windowrule = opacity 0.90, match:title ^(polkit-gnome-authentication-agent-1)$
windowrule = opacity 0.90, match:title ^(org\.freedesktop\.impl\.portal\.desktop\.gtk)$
windowrule = opacity 0.90, match:title ^(org\.freedesktop\.impl\.portal\.desktop\.hyprland)$
windowrule = opacity 0.90, match:title ^(org\.pulseaudio\.pavucontrol)$

# Special floating kitty class opacity
windowrule = opacity 0.90, match:class ^(FloatTerm)$


# ============================================================
# Layer Rules (Blur Effects)
# ============================================================

# Fuzzel
layerrule = blur on, match:namespace launcher
layerrule = ignore_alpha 0.2, match:namespace launcher

# Waybar
layerrule = blur on, match:namespace waybar
layerrule = ignore_alpha 1, match:namespace waybar

# Rofi
layerrule = blur on, match:namespace rofi
layerrule = ignore_alpha 0.2, match:namespace rofi

# Notifications (dunst/mako)
layerrule = blur on, match:namespace notifications
layerrule = ignore_alpha 0.5, match:namespace notifications
